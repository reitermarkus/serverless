\chapter{Implementation}
\label{sec:implementation}

\begin{figure}[H]
  \adjincludegraphics[max width=\textwidth]{implementation-diagram}
  \caption{Diagram showing how the parts of our implementation work together.
    \cite{smartphone-icon, browser-icon}
  }
  \label{fig:implementation-diagram}
\end{figure}

Our task is to do IoT data analytics using serverless computing, therefore, as a first step, we
started out by thinking about the underlying infrastructure. We decided on using \textit{Apache
Kafka} for streaming, \textit{MongoDB} as our database, \textit{OpenFaaS} as the serverless platform
and \textit{Rust} as the programming language for our serverless functions. The whole stack can then
be initialised via a \textit{Ruby Rake} file, which acts as our main deployment script. In
\autoref{fig:implementation-diagram}, you can see how all of the parts in our implementation work
together. Note how the cloud parts are inside the the fog device part: In our test setup, our
serverless stack is actually running on a fog device instead of in the cloud, which already
highlights the flexibility of serverless computing.

In the following subsections, we explain the implementation of each part in more detail and
elaborate why we chose a technology for a given task.

\input{chapters/implementation/rake.tex}
\input{chapters/implementation/kafka.tex}
\input{chapters/implementation/functions.tex}
\input{chapters/implementation/mobile.tex}
\input{chapters/implementation/serverless-stack.tex}
\input{chapters/implementation/raspberry-pi.tex}
\input{chapters/implementation/mongodb.tex}
\input{chapters/implementation/ui.tex}
\input{chapters/implementation/azure.tex}

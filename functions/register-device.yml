version: 1.0
provider:
  name: openfaas
  gateway: http://127.0.0.1:8080
functions:
  register-device:
    lang: rust-http
    handler: ./register-device
    image: docker.pkg.github.com/reitermarkus/serverless/register-device:latest
    annotations:
      topic: register-device
    environment:
      RUST_LOG: info
      write_debug: 'true'
      gateway_url: http://gateway:8080
